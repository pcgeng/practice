<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above three meta tags must be placed at the top, any other content must be followed by! -->
	<title>Code Challenge #1</title>

	<!-- Bootstrap core CSS -->
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

	<style>

        html, body {
        	height: 100%;
        	padding: 0;
        	margin: 0;
        }

        nav, aside{
        	position: absolute;
        	top: 0;
        	background-color: #333;
        	height: 100%;
        }

        nav {
        	left: 0;
        	width: 300px;
        }

        aside {
        	right: 0;
        	width: 300px;
        }

        article {
        	margin: 0 300px;
        	height: 100%;
        	background-color: #fff;
        }

        button {
        	margin-top: 20px;
        	margin-left: 30px;
        }

        .template {
        	display: none;
        }

        .thumbnail {
        	position: relative;
        	margin-top: 20px;
        	padding: 15px;
        }

        /* Maintain the proper aspect ratio of 16 x 9 */
        .img-container {
        	width: 100%;
        	padding-bottom: 56.25%;
        	height: 0;
        	overflow: hidden;
        }

        img {
        	width: 100%;
        }

        .catename {
        	display: none;
        }
	</style>
</head>
<body>
	<!--
		Code Challenge #1:

		Using HTML, CSS, and JavaScript, please recreate the small blog application seen in the image below.
		If needed, feel free to use Google for help. Please give your best effort without looking at other code
		examples. The primary goal of this challenge is to get an understanding of your level of comfort with
		CSS and JS. We don't expect it to be perfect but, please be prepared to explain your solution.

		Blog App: http://i.imgur.com/xbSRpUk.png (blog-app-homepage.png)
		
		-The app should be fully responsive up to a maximum width of 1200 pixels.
		-The articles images should always maintain the proper aspect ratio of 16 x 9 even though the original
		 (source) image might not have the correct aspect radio.
		-Use any tools or libraries you feel comfortable with.		
		
		
		Adding a New Article: 
		
		On Add New: http://i.imgur.com/kQ2UjiL.png (blog-app-add-new.png)
		
		When a user clicks on the "Add New" button, a modal window should appear giving the user an option to add
		a new orticle to the list. In this modal window, the user can enter an image source, an article title, and
		article content.
		
		After a user clicks the "Save" button, the modal should disappear, and the new article should be added to
		the top of the list of articles.
		
		
		Editing an Existing Article:
		
		On Hover: http://i.imgur.com/6DYUD4Y.png (blog-app-on-hover.png)
		
		On Edit: http://i.imgur.com/DkDOT7S.png (blog-app-on-edit.png)
		
		When a user hovers over an article, an "Edit" button should appear. This button should be hidden by defualt.
		When the user clicks on the "Edit" button, a modal should appear giving the user options to edit the image,
		the article title, and the article content. 
		
		After a user clicks the "Save" button, the modal window should disappear and the updated content should be
		applied to the correct article.
	-->
	
	<div class="container">  
    	<nav></nav>
    	<article>
    		<div class="row">
    			<div id="blogContent" class="col-md-9">
    				<div class="thumbnail">
			    		<div class="img-container">
			    			<img src="image01.jpg" alt="Unable to load image">
			    			<div class="cateName">Edit</div>
			    		</div>
		  				<div class="caption">
			    			<h4>Article title</h4>
			            	<p>Summary of the article</p>
		            	</div>
	            	</div>
	            	<div class="thumbnail template">
    			    	<div class="img-container">
			    			<img src="" alt="Unable to load image">
			    			<div class="cateName">Edit</div>
			    		</div>
		  				<div class="caption">
			    			<h4></h4>
			            	<p></p>
		            	</div>
	            	</div>
    			</div>
	            <div class="col-md-3">
		    		<!-- Button trigger modal -->
					<button type="button" class="btn btn-success" data-toggle="modal" data-target="#editModal">+ Add New</button>
				</div>
			</div>

			<!-- Edit modal -->
			<div class="modal fade" id="editModal" tabindex="-1" role="dialog">
				<div class="modal-dialog" role="document" aria-hidden="true">
					<div class="modal-content">
			  			<div class="modal-header" style="border-bottom: 0">
			    			<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			    			<h4 class="modal-title">Edit Article</h4>
			  			</div>
			  			<form id="editForm">
			  				<fieldset>
					  			<div class="modal-body">
								    <div class="form-group">
								        <label for="imageUrl" class="control-label">Image</label>
								        <input type="text" class="form-control" name="imageUrl" id="imageUrl">
								    </div>
								    <div class="form-group">
								        <label for="title" class="control-label">Title</label>
								        <input type="text" class="form-control" name="title" id="title">
								    </div>
								    <div class="form-group">
								        <label for="content" class="control-label">Content</label>
								        <textarea class="form-control" name="content" id="content"></textarea>
								    </div>
								    <div class="form-group" style="text-align: right">
								      	<button type="button" id="saveBtn" class="btn btn-success">Save</button>
								      	<button type="button" class="btn btn-default" data-dismiss="modal">Cancle</button>
								    </div>
					  			</div>
				  			</fieldset>
			  			</form>
					</div>
				</div>
			</div>
    	    
    	</article>
    	<aside></aside>
	<div>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>  
 
    <script>
		$(function() {
			$('#blogContent > .thumbnail').mouseover(function() {
				$(this)
				.children('.img-container')
				.children('.cateName')
				.css({'display': 'block', 
					  'position': 'absolute',
        			  'right': '0',
        			  'top': '0',
        			  'padding': '10px',
        			  'background-color': 'rgba(0, 0, 0, 0.3)',
        			  'color': '#fff',
        			  'cursor': 'pointer'});

				$('#blogContent > .thumbnail').mouseout(function(){
					$(this)
					.children('.img-container')
					.children('.cateName')
					.css('display', 'none');
				});
			});	

    		$('#saveBtn').click(function() {
    			var blog_content = '',
    			    imageUrl = $("input[name='imageUrl']").val(),
    			    title = $("input[name='title']").val(),
    			    content = $("textarea[name='content']").val();

    			// TODO: input check
	            
	            $('#editModal').modal('hide');

	            $('#blogContent > .template')
	            .clone(true) // clone events together
	            .removeClass('template')
	            .find('.img-container > img')
	            .attr('src', imageUrl) // modify image url
	            .end()
	            .find('.caption > h4')
	            .text(title) // add article title
	            .end()
	            .find('.caption > p')
	            .text(content) // add article content
	            .end()
	            .prependTo($('#blogContent'));
			});

			$('.cateName').click(function() {
				var imageUrl = $(this).prev('img').attr('src'),
				    title = $(this).parent('.img-container')
				                   .next('.caption')
				                   .children('h4').text(),
				    content = $(this).parent('.img-container')
				                     .next('.caption')
				                     .children('p').text();

				$('#editForm #imageUrl').val(imageUrl);
				$('#editForm #title').val(title);
				$('#editForm #content').val(content);                   
				$('#editModal').modal('show');
			});
		});	
    </script>
</body>
</html>
