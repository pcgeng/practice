<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>let and const</title>
</head>

<body>
    <script type="text/javascript">
        /*
        // 1.The variable declared by let is valid only in the block in which it resides.
        {
            let a = 10;
            var b = 1;
        }
        console.log(b); // 1
        console.log(a); // Uncaught ReferenceError: a is not defined

        for (let i = 0; i < 10; i++) {
            // ...
        }
        console.log(i); // Uncaught ReferenceError: i is not defined
        */
        var a = [];
        for (var i = 0; i < 10; i++) {
            a[i] = function () {
                console.log(i);
            };
        }
        a[6](); // 10

        var b = [];
        for (let i = 0; i < 10; i++) {
            b[i] = function () {
                console.log(i);
            };
        }
        b[6](); // 6

        for (let i = 0; i < 3; i++) {
            let i = 'abc';
            console.log(i);
        }
        // abc
        // abc
        // abc

        /*
        // 2.Variables declared by let must be used after declaration, otherwise error will be reported.
        console.log(foo); // undefined
        var foo = 2;
        console.log(bar); // Uncaught ReferenceError: bar is not defined
        let bar = 2;

        // 3.Within the code block, variables are unavailable until they are declared using the let command.
        // This is grammatically called "temporal dead zone" (TDZ).
        var tmp = 123;
        if (true) {
            tmp = 'abc'; // Uncaught ReferenceError: tmp is not defined
            let tmp;
        }

        function foo(x = y, y = 2) {
            return [x, y];
        }
        foo(); // Uncaught ReferenceError: y is not defined
        function bar(x = 2, y = x) {
            return [x, y];
        }
        console.log(bar()); // [2, 2]
        */

        /*
        // 4.Let does not allow repeated declarations of the same variable within the same scope.
        function func1() {
            let a = 10;
            var a = 1;
        }
        func1(); // Uncaught SyntaxError: Identifier 'a' has already been declared
        function func2() {
            let b = 10;
            let b = 1;
        }
        func2(); // Uncaught SyntaxError: Identifier 'b' has already been declared

        function func3(arg) {
            let arg;
        }
        func3(); // Uncaught SyntaxError: Identifier 'arg' has already been declared
        function func4(arg) {
            {
                let arg;
            }
        }
        func4(); // no error reported
        */

    </script>
</body>

</html>